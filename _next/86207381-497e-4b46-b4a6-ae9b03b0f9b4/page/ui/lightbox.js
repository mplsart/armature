module.exports=__NEXT_REGISTER_PAGE("/ui/lightbox",function(){var e=webpackJsonp([8],{640:function(e,t,n){e.exports=n(641)},641:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();var r=n(1);var o=m(r);var a=n(24);var s=m(a);var l=n(5);var u=n(25);var h=m(u);var c=n(26);var d=m(c);var f=n(27);var p=n(642);var v=m(p);function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){y(t,e);function t(){g(this,t);return E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}i(t,[{key:"render",value:function e(){return o.default.createElement(s.default,null,o.default.createElement("h2",null,"Lightbox"),o.default.createElement("pre",null,"import SlideshowLightbox from 'armature/dist/ui/lightbox/SlideshowLightbox';"),o.default.createElement("h3",null,o.default.createElement(v.default,null)))}}]);return t}(o.default.Component);t.default=(0,d.default)(f.initStore,null,{})((0,h.default)((0,l.withStyles)({})(b)))},642:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();var r=n(1);var o=l(r);var a=n(643);var s=l(a);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=["https://storage.googleapis.com/cdn.mplsart.com/written/temp/afro_1_theheavycrown.jpeg","https://storage.googleapis.com/cdn.mplsart.com/written/temp/afro_4_drama.jpeg","https://storage.googleapis.com/cdn.mplsart.com/written/temp/afro_3_DarthChCaptain.jpg","https://storage.googleapis.com/cdn.mplsart.com/written/temp/afro_4_install.jpg","https://storage.googleapis.com/cdn.mplsart.com/file_container/RmlsZUNvbnRhaW5lch4fMTcxOTAwMDE/card_large.png"];var f=function(e){c(t,e);i(t,null,[{key:"onImageLoadError",value:function e(t,n,i){console.error("Could not load image at "+t,i)}}]);function t(){u(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={index:0,isOpen:false};e.openLightbox=e.openLightbox.bind(e);e.closeLightbox=e.closeLightbox.bind(e);e.moveNext=e.moveNext.bind(e);e.movePrev=e.movePrev.bind(e);return e}i(t,[{key:"componentDidMount",value:function e(){"undefined"!==typeof window}},{key:"openLightbox",value:function e(){this.setState({isOpen:true})}},{key:"closeLightbox",value:function e(){this.setState({isOpen:false})}},{key:"moveNext",value:function e(){this.setState({index:(this.state.index+1)%d.length})}},{key:"movePrev",value:function e(){this.setState({index:(this.state.index+d.length-1)%d.length})}},{key:"render",value:function e(){if(this.state.isOpen)return o.default.createElement(s.default,{mainSrc:d[this.state.index],nextSrc:d[(this.state.index+1)%d.length],prevSrc:d[(this.state.index+d.length-1)%d.length],onCloseRequest:this.closeLightbox,onMovePrevRequest:this.movePrev,onMoveNextRequest:this.moveNext,onImageLoadError:s.default.onImageLoadError,animationOnKeyInput:true});return o.default.createElement("button",{onClick:this.openLightbox},"open")}}]);return t}(o.default.Component);t.default=f},643:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var r=function(){function e(e,t){var n=[];var i=true;var r=false;var o=void 0;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done);i=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){r=true;o=e}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();var a=n(1);var s=g(a);var l=n(3);var u=g(l);var h=n(4);var c=g(h);var d=n(5);var f=n(644);var p=g(f);var v=n(646);var m=n(647);function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w={root:{},outer:{backgroundColor:"rgba(0, 0, 0, 0.85)",outline:"none",top:0,left:0,right:0,bottom:0,zIndex:1e4,width:"100%",height:"100%","-ms-content-zooming":"none","-ms-user-select":"none","-ms-touch-select":"none","touch-action":"none",overflow:"hidden"},inner:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},navButtons:{border:"none",position:"absolute",top:0,bottom:0,width:"20px",height:"34px",padding:"40px 30px",margin:"auto",cursor:"pointer",opacity:.2,background:"rgba(0, 0, 0, 0.2) no-repeat center","&:hover":{backgroundColor:"rgba(0, 0, 0, 1)"},"&:active":{backgroundColor:"rgba(0, 0, 0, 1)"}},navButtonPrev:{left:0,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjM0Ij48cGF0aCBkPSJtIDE5LDMgLTIsLTIgLTE2LDE2IDE2LDE2IDEsLTEgLTE1LC0xNSAxNSwtMTUgeiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg==')"},navButtonNext:{right:0,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjM0Ij48cGF0aCBkPSJtIDEsMyAyLC0yIDE2LDE2IC0xNiwxNiAtMSwtMSAxNSwtMTUgLTE1LC0xNSB6IiBmaWxsPSIjRkZGIi8+PC9zdmc+')"},builtinButton:{width:"40px",height:"35px",cursor:"pointer",border:"none",display:"block",opacity:"0.7","&:hover":{opacity:1}},image:{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"auto","max-width":"none","-ms-content-zooming":"none","-ms-user-select":"none","-ms-touch-select":"none","touch-action":"none"},toolbar:{backgroundColor:"rgba(0, 0, 0, 0.5)",position:"absolute",left:0,right:0,display:"flex",justifyContent:"space-between",color:"#fff",top:0,height:"50px"},toolbarSide:{height:"50px",margin:0},toolbarLeftSide:{paddingLeft:"20px",paddingRight:0,flex:"0 1 auto",overflow:"hidden",textOverflow:"ellipsis"},toolbarLeftSideNoFlex:{left:0,overflow:"visible"},toolbarRightSide:{paddingLeft:0,paddingRight:"20px",flex:"0 0 auto"},toolbarItem:{display:"inline-block",lineHeight:"50px",padding:0,color:"#fff",fontSize:"120%",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},toolbarItemChild:{verticalAlign:"middle",height:"50px"},closeButton:{background:'url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIj48cGF0aCBkPSJtIDEsMyAxLjI1LC0xLjI1IDcuNSw3LjUgNy41LC03LjUgMS4yNSwxLjI1IC03LjUsNy41IDcuNSw3LjUgLTEuMjUsMS4yNSAtNy41LC03LjUgLTcuNSw3LjUgLTEuMjUsLTEuMjUgNy41LC03LjUgLTcuNSwtNy41IHoiIGZpbGw9IiNGRkYiLz48L3N2Zz4=") no-repeat center'}};var O=(0,v.getIEVersion)();var M=function(t){S(n,t);o(n,[{key:"handleWindowResize",value:function e(){this.clearTimeout(this.resizeTimeout);this.resizeTimeout=this.setTimeout(this.forceUpdate.bind(this),100)}}],[{key:"isTargetMatchImage",value:function e(t){return t&&/ril-image-current/.test(t.className)}},{key:"parseMouseEvent",value:function e(t){return{id:"mouse",source:m.SOURCE_MOUSE,x:parseInt(t.clientX,10),y:parseInt(t.clientY,10)}}},{key:"parseTouchPointer",value:function e(t){return{id:t.identifier,source:m.SOURCE_TOUCH,x:parseInt(t.clientX,10),y:parseInt(t.clientY,10)}}},{key:"parsePointerEvent",value:function e(t){return{id:t.pointerId,source:m.SOURCE_POINTER,x:parseInt(t.clientX,10),y:parseInt(t.clientY,10)}}},{key:"getTransform",value:function e(t){var n=t.x,i=void 0===n?0:n,r=t.y,o=void 0===r?0:r,a=t.zoom,s=void 0===a?1:a,l=t.width,u=t.targetWidth;var h=i;var c=O<10;var d=(0,v.getWindowWidth)();l>d&&(h+=(d-l)/2);var f=s*(u/l);return c?{msTransform:"translate("+h+"px,"+o+"px) scale("+f+")"}:{transform:"translate3d("+h+"px,"+o+"px,0) scale3d("+f+","+f+",1)"}}}]);function n(e){y(this,n);var t=b(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.state={isClosing:!e.animationDisabled,shouldAnimate:false,zoomLevel:m.MIN_ZOOM_LEVEL,offsetX:0,offsetY:0,loadErrorStatus:{}};t.handleImageDoubleClick=t.handleImageDoubleClick.bind(t);t.handleImageMouseWheel=t.handleImageMouseWheel.bind(t);t.handleKeyInput=t.handleKeyInput.bind(t);t.handleMouseUp=t.handleMouseUp.bind(t);t.handleMouseDown=t.handleMouseDown.bind(t);t.handleMouseMove=t.handleMouseMove.bind(t);t.handleOuterMousewheel=t.handleOuterMousewheel.bind(t);t.handleTouchStart=t.handleTouchStart.bind(t);t.handleTouchMove=t.handleTouchMove.bind(t);t.handleTouchEnd=t.handleTouchEnd.bind(t);t.handlePointerEvent=t.handlePointerEvent.bind(t);t.handleCaptionMousewheel=t.handleCaptionMousewheel.bind(t);t.handleWindowResize=t.handleWindowResize.bind(t);t.handleZoomInButtonClick=t.handleZoomInButtonClick.bind(t);t.handleZoomOutButtonClick=t.handleZoomOutButtonClick.bind(t);t.requestClose=t.requestClose.bind(t);t.requestMoveNext=t.requestMoveNext.bind(t);t.requestMovePrev=t.requestMovePrev.bind(t);return t}o(n,[{key:"componentWillMount",value:function e(){this.timeouts=[];this.currentAction=m.ACTION_NONE;this.eventsSource=m.SOURCE_ANY;this.pointerList=[];this.preventInnerClose=false;this.preventInnerCloseTimeout=null;this.keyPressed=false;this.imageCache={};this.lastKeyDownTime=0;this.resizeTimeout=null;this.wheelActionTimeout=null;this.resetScrollTimeout=null;this.scrollX=0;this.scrollY=0;this.moveStartX=0;this.moveStartY=0;this.moveStartOffsetX=0;this.moveStartOffsetY=0;this.swipeStartX=0;this.swipeStartY=0;this.swipeEndX=0;this.swipeEndY=0;this.pinchTouchList=null;this.pinchDistance=0;this.keyCounter=0;this.moveRequested=false;this.props.animationDisabled||this.setState({isClosing:false})}},{key:"componentDidMount",value:function t(){var n=this;this.listeners={resize:this.handleWindowResize,mouseup:this.handleMouseUp,touchend:this.handleTouchEnd,touchcancel:this.handleTouchEnd,pointerdown:this.handlePointerEvent,pointermove:this.handlePointerEvent,pointerup:this.handlePointerEvent,pointercancel:this.handlePointerEvent};Object.keys(this.listeners).forEach(function(t){e.window.top.addEventListener(t,n.listeners[t])});this.loadAllImages()}},{key:"componentWillReceiveProps",value:function e(t){var n=this;var i=false;var r={};var o={};this.getSrcTypes().forEach(function(e){if(n.props[e.name]!==t[e.name]){i=true;r[n.props[e.name]]=true;o[t[e.name]]=true}});if(i||this.moveRequested){Object.keys(r).forEach(function(e){!(e in o)&&e in n.imageCache&&(n.imageCache[e].loaded=false)});this.moveRequested=false;this.loadAllImages(t)}}},{key:"shouldComponentUpdate",value:function e(){return!this.moveRequested}},{key:"componentWillUnmount",value:function t(){var n=this;this.didUnmount=true;Object.keys(this.listeners).forEach(function(t){e.window.top.removeEventListener(t,n.listeners[t])});this.timeouts.forEach(function(e){return clearTimeout(e)})}},{key:"setTimeout",value:function(e){function t(t,n){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(e,t){var n=this;var i=setTimeout(function(){n.timeouts=n.timeouts.filter(function(e){return e!==i});e()},t);this.timeouts.push(i);return i})},{key:"setPreventInnerClose",value:function e(){var t=this;this.preventInnerCloseTimeout&&this.clearTimeout(this.preventInnerCloseTimeout);this.preventInnerClose=true;this.preventInnerCloseTimeout=this.setTimeout(function(){t.preventInnerClose=false;t.preventInnerCloseTimeout=null},100)}},{key:"getBestImageForType",value:function e(t){var n=this.props[t];var i={};if(this.isImageLoaded(n))i=this.getFitSizes(this.imageCache[n].width,this.imageCache[n].height);else{if(!this.isImageLoaded(this.props[t+"Thumbnail"]))return null;n=this.props[t+"Thumbnail"];i=this.getFitSizes(this.imageCache[n].width,this.imageCache[n].height,true)}return{src:n,height:this.imageCache[n].height,width:this.imageCache[n].width,targetHeight:i.height,targetWidth:i.width}}},{key:"getFitSizes",value:function e(t,n,i){var r=this.getLightboxRect();var o=r.height-2*this.props.imagePadding;var a=r.width-2*this.props.imagePadding;if(!i){o=Math.min(o,n);a=Math.min(a,t)}var s=a/o;var l=t/n;if(s>l)return{width:t*o/n,height:o};return{width:a,height:n*a/t}}},{key:"getMaxOffsets",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.zoomLevel;var n=this.getBestImageForType("mainSrc");if(null===n)return{maxX:0,minX:0,maxY:0,minY:0};var i=this.getLightboxRect();var r=this.getZoomMultiplier(t);var o=0;o=r*n.width-i.width<0?(i.width-r*n.width)/2:(r*n.width-i.width)/2;var a=0;a=r*n.height-i.height<0?(i.height-r*n.height)/2:(r*n.height-i.height)/2;return{maxX:o,maxY:a,minX:-1*o,minY:-1*a}}},{key:"getSrcTypes",value:function e(){return[{name:"mainSrc",keyEnding:"i"+this.keyCounter},{name:"mainSrcThumbnail",keyEnding:"t"+this.keyCounter},{name:"nextSrc",keyEnding:"i"+(this.keyCounter+1)},{name:"nextSrcThumbnail",keyEnding:"t"+(this.keyCounter+1)},{name:"prevSrc",keyEnding:"i"+(this.keyCounter-1)},{name:"prevSrcThumbnail",keyEnding:"t"+(this.keyCounter-1)}]}},{key:"getLightboxRect",value:function e(){return{width:(0,v.getWindowWidth)(),height:(0,v.getWindowHeight)(),top:0,right:0,bottom:0,left:0}}},{key:"getZoomMultiplier",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.zoomLevel;return Math.pow(m.ZOOM_RATIO,t)}},{key:"clearTimeout",value:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(e){this.timeouts=this.timeouts.filter(function(t){return t!==e});clearTimeout(e)})},{key:"handleKeyInput",value:function e(t){t.stopPropagation();if(this.isAnimating())return;if("keyup"===t.type){this.lastKeyDownTime-=this.props.keyRepeatKeyupBonus;return}var n=t.which||t.keyCode;var i=new Date;if(i.getTime()-this.lastKeyDownTime<this.props.keyRepeatLimit&&n!==m.KEYS.ESC)return;this.lastKeyDownTime=i.getTime();switch(n){case m.KEYS.ESC:t.preventDefault();this.requestClose(t);break;case m.KEYS.LEFT_ARROW:if(!this.props.prevSrc)return;t.preventDefault();this.keyPressed=true;this.requestMovePrev(t);break;case m.KEYS.RIGHT_ARROW:if(!this.props.nextSrc)return;t.preventDefault();this.keyPressed=true;this.requestMoveNext(t);break;default:}}},{key:"handleOuterMousewheel",value:function e(t){var n=this;t.preventDefault();t.stopPropagation();var i=m.WHEEL_MOVE_X_THRESHOLD;var r=0;var o=500;this.clearTimeout(this.resetScrollTimeout);this.resetScrollTimeout=this.setTimeout(function(){n.scrollX=0;n.scrollY=0},300);if(null!==this.wheelActionTimeout||this.isAnimating())return;if(Math.abs(t.deltaY)<Math.abs(t.deltaX)){this.scrollY=0;this.scrollX+=t.deltaX;var a=i/2;if(this.scrollX>=i||t.deltaX>=a){this.requestMoveNext(t);r=o;this.scrollX=0}else if(this.scrollX<=-1*i||t.deltaX<=-1*a){this.requestMovePrev(t);r=o;this.scrollX=0}}0!==r&&(this.wheelActionTimeout=this.setTimeout(function(){n.wheelActionTimeout=null},r))}},{key:"handleImageMouseWheel",value:function e(t){t.preventDefault();var n=m.WHEEL_MOVE_Y_THRESHOLD;if(Math.abs(t.deltaY)>=Math.abs(t.deltaX)){t.stopPropagation();if(Math.abs(t.deltaY)<n)return;this.scrollX=0;this.scrollY+=t.deltaY;this.changeZoom(this.state.zoomLevel-t.deltaY,t.clientX,t.clientY)}}},{key:"handleImageDoubleClick",value:function e(t){this.state.zoomLevel>m.MIN_ZOOM_LEVEL?this.changeZoom(m.MIN_ZOOM_LEVEL,t.clientX,t.clientY):this.changeZoom(this.state.zoomLevel+m.ZOOM_BUTTON_INCREMENT_SIZE,t.clientX,t.clientY)}},{key:"shouldHandleEvent",value:function e(t){if(this.eventsSource===t)return true;if(this.eventsSource===m.SOURCE_ANY){this.eventsSource=t;return true}switch(t){case m.SOURCE_MOUSE:return false;case m.SOURCE_TOUCH:this.eventsSource=m.SOURCE_TOUCH;this.filterPointersBySource();return true;case m.SOURCE_POINTER:if(this.eventsSource===m.SOURCE_MOUSE){this.eventsSource=m.SOURCE_POINTER;this.filterPointersBySource();return true}return false;default:return false}}},{key:"addPointer",value:function e(t){this.pointerList.push(t)}},{key:"removePointer",value:function e(t){this.pointerList=this.pointerList.filter(function(e){var n=e.id;return n!==t.id})}},{key:"filterPointersBySource",value:function e(){var t=this;this.pointerList=this.pointerList.filter(function(e){var n=e.source;return n===t.eventsSource})}},{key:"handleMouseDown",value:function e(t){if(this.shouldHandleEvent(m.SOURCE_MOUSE)&&n.isTargetMatchImage(t.target)){this.addPointer(n.parseMouseEvent(t));this.multiPointerStart(t)}}},{key:"handleMouseMove",value:function e(t){this.shouldHandleEvent(m.SOURCE_MOUSE)&&this.multiPointerMove(t,[n.parseMouseEvent(t)])}},{key:"handleMouseUp",value:function e(t){if(this.shouldHandleEvent(m.SOURCE_MOUSE)){this.removePointer(n.parseMouseEvent(t));this.multiPointerEnd(t)}}},{key:"handlePointerEvent",value:function e(t){if(this.shouldHandleEvent(m.SOURCE_POINTER))switch(t.type){case"pointerdown":if(n.isTargetMatchImage(t.target)){this.addPointer(n.parsePointerEvent(t));this.multiPointerStart(t)}break;case"pointermove":this.multiPointerMove(t,[n.parsePointerEvent(t)]);break;case"pointerup":case"pointercancel":this.removePointer(n.parsePointerEvent(t));this.multiPointerEnd(t);break;default:break}}},{key:"handleTouchStart",value:function e(t){var i=this;if(this.shouldHandleEvent(m.SOURCE_TOUCH)&&n.isTargetMatchImage(t.target)){[].forEach.call(t.changedTouches,function(e){return i.addPointer(n.parseTouchPointer(e))});this.multiPointerStart(t)}}},{key:"handleTouchMove",value:function e(t){this.shouldHandleEvent(m.SOURCE_TOUCH)&&this.multiPointerMove(t,[].map.call(t.changedTouches,function(e){return n.parseTouchPointer(e)}))}},{key:"handleTouchEnd",value:function e(t){var i=this;if(this.shouldHandleEvent(m.SOURCE_TOUCH)){[].map.call(t.changedTouches,function(e){return i.removePointer(n.parseTouchPointer(e))});this.multiPointerEnd(t)}}},{key:"decideMoveOrSwipe",value:function e(t){this.state.zoomLevel<=m.MIN_ZOOM_LEVEL?this.handleSwipeStart(t):this.handleMoveStart(t)}},{key:"multiPointerStart",value:function e(t){this.handleEnd(null);switch(this.pointerList.length){case 1:t.preventDefault();this.decideMoveOrSwipe(this.pointerList[0]);break;case 2:t.preventDefault();this.handlePinchStart(this.pointerList);break;default:break}}},{key:"multiPointerMove",value:function e(t,n){switch(this.currentAction){case m.ACTION_MOVE:t.preventDefault();this.handleMove(n[0]);break;case m.ACTION_SWIPE:t.preventDefault();this.handleSwipe(n[0]);break;case m.ACTION_PINCH:t.preventDefault();this.handlePinch(n);break;default:break}}},{key:"multiPointerEnd",value:function e(t){if(this.currentAction!==m.ACTION_NONE){this.setPreventInnerClose();this.handleEnd(t)}switch(this.pointerList.length){case 0:this.eventsSource=m.SOURCE_ANY;break;case 1:t.preventDefault();this.decideMoveOrSwipe(this.pointerList[0]);break;case 2:t.preventDefault();this.handlePinchStart(this.pointerList);break;default:break}}},{key:"handleEnd",value:function e(t){switch(this.currentAction){case m.ACTION_MOVE:this.handleMoveEnd(t);break;case m.ACTION_SWIPE:this.handleSwipeEnd(t);break;case m.ACTION_PINCH:this.handlePinchEnd(t);break;default:break}}},{key:"handleMoveStart",value:function e(t){var n=t.x,i=t.y;if(!this.props.enableZoom)return;this.currentAction=m.ACTION_MOVE;this.moveStartX=n;this.moveStartY=i;this.moveStartOffsetX=this.state.offsetX;this.moveStartOffsetY=this.state.offsetY}},{key:"handleMove",value:function e(t){var n=t.x,i=t.y;var r=this.moveStartX-n+this.moveStartOffsetX;var o=this.moveStartY-i+this.moveStartOffsetY;this.state.offsetX===r&&this.state.offsetY===o||this.setState({offsetX:r,offsetY:o})}},{key:"handleMoveEnd",value:function e(){var t=this;this.currentAction=m.ACTION_NONE;this.moveStartX=0;this.moveStartY=0;this.moveStartOffsetX=0;this.moveStartOffsetY=0;var n=this.getMaxOffsets();var i=Math.max(n.minX,Math.min(n.maxX,this.state.offsetX));var r=Math.max(n.minY,Math.min(n.maxY,this.state.offsetY));if(i!==this.state.offsetX||r!==this.state.offsetY){this.setState({offsetX:i,offsetY:r,shouldAnimate:true});this.setTimeout(function(){t.setState({shouldAnimate:false})},this.props.animationDuration)}}},{key:"handleSwipeStart",value:function e(t){var n=t.x,i=t.y;this.currentAction=m.ACTION_SWIPE;this.swipeStartX=n;this.swipeStartY=i;this.swipeEndX=n;this.swipeEndY=i}},{key:"handleSwipe",value:function e(t){var n=t.x,i=t.y;this.swipeEndX=n;this.swipeEndY=i}},{key:"handleSwipeEnd",value:function e(t){var n=this.swipeEndX-this.swipeStartX;var i=Math.abs(n);var r=Math.abs(this.swipeEndY-this.swipeStartY);this.currentAction=m.ACTION_NONE;this.swipeStartX=0;this.swipeStartY=0;this.swipeEndX=0;this.swipeEndY=0;if(!t||this.isAnimating()||i<1.5*r)return;if(i<m.MIN_SWIPE_DISTANCE){var o=this.getLightboxRect();if(i<o.width/4)return}if(n>0&&this.props.prevSrc){t.preventDefault();this.requestMovePrev()}else if(n<0&&this.props.nextSrc){t.preventDefault();this.requestMoveNext()}}},{key:"calculatePinchDistance",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pinchTouchList,n=r(t,2),i=n[0],o=n[1];return Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2))}},{key:"calculatePinchCenter",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pinchTouchList,n=r(t,2),i=n[0],o=n[1];return{x:i.x-(i.x-o.x)/2,y:i.y-(i.y-o.y)/2}}},{key:"handlePinchStart",value:function e(t){if(!this.props.enableZoom)return;this.currentAction=m.ACTION_PINCH;this.pinchTouchList=t.map(function(e){var t=e.id,n=e.x,i=e.y;return{id:t,x:n,y:i}});this.pinchDistance=this.calculatePinchDistance()}},{key:"handlePinch",value:function e(t){this.pinchTouchList=this.pinchTouchList.map(function(e){for(var n=0;n<t.length;n+=1)if(t[n].id===e.id)return t[n];return e});var n=this.calculatePinchDistance();var i=this.state.zoomLevel+n-this.pinchDistance;this.pinchDistance=n;var r=this.calculatePinchCenter(this.pinchTouchList),o=r.x,a=r.y;this.changeZoom(i,o,a)}},{key:"handlePinchEnd",value:function e(){this.currentAction=m.ACTION_NONE;this.pinchTouchList=null;this.pinchDistance=0}},{key:"handleWindowResize",value:function e(){this.clearTimeout(this.resizeTimeout);this.resizeTimeout=this.setTimeout(this.forceUpdate.bind(this),100)}},{key:"handleZoomInButtonClick",value:function e(){this.changeZoom(this.state.zoomLevel+m.ZOOM_BUTTON_INCREMENT_SIZE)}},{key:"handleZoomOutButtonClick",value:function e(){this.changeZoom(this.state.zoomLevel-m.ZOOM_BUTTON_INCREMENT_SIZE)}},{key:"handleCaptionMousewheel",value:function e(t){t.stopPropagation();if(!this.caption)return;var n=this.caption.getBoundingClientRect(),i=n.height;var r=this.caption,o=r.scrollHeight,a=r.scrollTop;(t.deltaY>0&&i+a>=o||t.deltaY<0&&a<=0)&&t.preventDefault()}},{key:"isAnimating",value:function e(){return this.state.shouldAnimate||this.state.isClosing}},{key:"isImageLoaded",value:function e(t){return t&&t in this.imageCache&&this.imageCache[t].loaded}},{key:"loadImage",value:function t(n,r,o){var a=this;if(this.isImageLoaded(r)){this.setTimeout(function(){o()},1);return}var s=new e.Image;this.props.imageCrossOrigin&&(s.crossOrigin=this.props.imageCrossOrigin);s.onerror=function(e){a.props.onImageLoadError(r,n,e);a.setState(function(e){return{loadErrorStatus:i({},e.loadErrorStatus,E({},n,true))}});o(e)};s.onload=function(){a.imageCache[r]={loaded:true,width:s.width,height:s.height};o()};s.src=r}},{key:"loadAllImages",value:function e(){var t=this;var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;var r=function e(n,i){return function(e){if(e)return;if(t.props[n]!==i||t.didUnmount)return;t.forceUpdate()}};this.getSrcTypes().forEach(function(e){var o=e.name;n[o]&&t.state.loadErrorStatus[o]&&t.setState(function(e){return{loadErrorStatus:i({},e.loadErrorStatus,E({},o,false))}});n[o]&&!t.isImageLoaded(n[o])&&t.loadImage(o,n[o],r(o,n[o]))})}},{key:"requestClose",value:function e(t){var n=this;var i=function e(){return n.props.onCloseRequest(t)};if(this.props.animationDisabled||"keydown"===t.type&&!this.props.animationOnKeyInput){i();return}this.setState({isClosing:true});this.setTimeout(i,this.props.animationDuration)}},{key:"requestMove",value:function e(t,n){var i=this;var r={zoomLevel:m.MIN_ZOOM_LEVEL,offsetX:0,offsetY:0};if(!this.props.animationDisabled&&(!this.keyPressed||this.props.animationOnKeyInput)){r.shouldAnimate=true;this.setTimeout(function(){return i.setState({shouldAnimate:false})},this.props.animationDuration)}this.keyPressed=false;this.moveRequested=true;if("prev"===t){this.keyCounter-=1;this.setState(r);this.props.onMovePrevRequest(n)}else{this.keyCounter+=1;this.setState(r);this.props.onMoveNextRequest(n)}}},{key:"requestMoveNext",value:function e(t){this.requestMove("next",t)}},{key:"requestMovePrev",value:function e(t){this.requestMove("prev",t)}},{key:"render",value:function e(){var t=this;var r=this.props,o=r.animationDisabled,a=r.animationDuration,l=r.clickOutsideToClose,u=r.discourageDownloads,h=r.enableZoom,d=r.imageTitle,f=r.nextSrc,g=r.prevSrc,E=r.toolbarButtons,y=r.reactModalStyle,b=r.onAfterOpen,S=r.imageCrossOrigin,w=r.reactModalProps;var O=this.state,M=O.zoomLevel,k=O.offsetX,T=O.offsetY,I=O.isClosing,C=O.loadErrorStatus;var x=this.getLightboxRect();var _={};!o&&this.isAnimating()&&(_=i({},_,{transition:"transform "+a+"ms"}));var P=this.props.classes;var L={};this.getSrcTypes().forEach(function(e){var t=e.name,n=e.keyEnding;L[t]=n});var N=[];var R=function e(r,o,a){if(!t.props[r])return;var l=t.getBestImageForType(r);var h=i({},_,n.getTransform(i({},a,l)));M>m.MIN_ZOOM_LEVEL&&(h.cursor="move");if(null===l){N.push("<h1>Loading....!</h1>");return}var f=l.src;u||N.push(s.default.createElement("img",{className:(0,c.default)(o,P.image),onDragStart:function e(t){return t.preventDefault()},style:h,src:f,key:f+L[r],alt:"string"===typeof d?d:(0,v.translate)("Image"),draggable:false}))};var D=this.getZoomMultiplier();R("nextSrc",(0,c.default)("ril-image-next",P.imageNext),{x:x.width});R("mainSrc",(0,c.default)("ril-image-current"),{x:-1*k,y:-1*T,zoom:D});R("prevSrc",(0,c.default)("ril-image-prev",P.imagePrev),{x:-1*x.width});return s.default.createElement("div",null,"Inner SlideshowLightbox",s.default.createElement(p.default,{open:true,onExit:l?this.requestClose:void 0,fullScreen:true,fullWidth:true},s.default.createElement("div",{className:(0,c.default)("ril-outer",P.outer,P.outerAnimating,this.props.wrapperClassName),onWheel:this.handleOuterMousewheel,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,tabIndex:"-1",onKeyDown:this.handleKeyInput,onKeyUp:this.handleKeyInput},s.default.createElement("div",{className:(0,c.default)("ril-inner",P.inner)},N),g&&s.default.createElement("a",{type:"button",className:(0,c.default)("ril-prev-button",P.navButtons,P.navButtonPrev),key:"prev","aria-label":this.props.prevLabel,onClick:this.isAnimating()?void 0:this.requestMovePrev}),f&&s.default.createElement("a",{type:"button",className:(0,c.default)("ril-next-button",P.navButtons,P.navButtonNext),key:"next","aria-label":this.props.nextLabel,onClick:this.isAnimating()?void 0:this.requestMoveNext}),s.default.createElement("div",{className:(0,c.default)("ril-toolbar",P.toolbar)},s.default.createElement("ul",{className:(0,c.default)("ril-toolbar-left",P.toolbarSide,P.toolbarLeftSide)},s.default.createElement("li",{className:(0,c.default)("ril-toolbar__item",P.toolbarItem)},s.default.createElement("span",{className:(0,c.default)("ril-toolbar__item__child",P.toolbarItemChild)},"Image Gallery"))),s.default.createElement("ul",{className:(0,c.default)("ril-toolbar-left",P.toolbarSide,P.toolbarLeftSide)},s.default.createElement("li",{className:(0,c.default)("ril-toolbar__item",P.toolbarItem)},s.default.createElement("a",{className:(0,c.default)("ril-toolbar__item__child",P.builtinButton,P.toolbarItemChild,P.closeButton),onClick:this.isAnimating()?void 0:this.requestClose})))))))}}]);return n}(s.default.Component);M.defaultProps={imageTitle:null,imageCaption:null,toolbarButtons:null,reactModalProps:{},animationDisabled:false,animationDuration:300,animationOnKeyInput:false,clickOutsideToClose:true,closeLabel:"Close lightbox",discourageDownloads:false,enableZoom:true,imagePadding:10,imageCrossOrigin:null,keyRepeatKeyupBonus:40,keyRepeatLimit:180,mainSrcThumbnail:null,nextLabel:"Next image",nextSrc:null,nextSrcThumbnail:null,onAfterOpen:function e(){},onImageLoadError:function e(){},onMoveNextRequest:function e(){},onMovePrevRequest:function e(){},prevLabel:"Previous image",prevSrc:null,prevSrcThumbnail:null,reactModalStyle:{},wrapperClassName:"",zoomInLabel:"Zoom in",zoomOutLabel:"Zoom out",imageLoadErrorMessage:"This image failed to load"};t.default=(0,d.withStyles)(w)(M)}).call(t,n(32))},644:function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return r.default}});var r=i(n(645))},645:function(e,t,n){"use strict";var i=n(2);Object.defineProperty(t,"__esModule",{value:true});t.default=t.styles=void 0;var r=i(n(7));var o=i(n(9));var a=i(n(10));var s=i(n(6));var l=i(n(1));var u=i(n(3));var h=i(n(4));var c=i(n(8));var d=n(22);var f=i(n(336));var p=i(n(341));var v=n(65);var m=i(n(69));var g=function e(t){return{root:{justifyContent:"center",alignItems:"center"},paper:{display:"flex",margin:4*t.spacing.unit,flexDirection:"column",flex:"0 1 auto",position:"relative",maxHeight:"90vh",overflowY:"auto",outline:"none"},paperWidthXs:{maxWidth:Math.max(t.breakpoints.values.xs,360)},paperWidthSm:{maxWidth:t.breakpoints.values.sm},paperWidthMd:{maxWidth:t.breakpoints.values.md},paperFullWidth:{width:"100%"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"100%",borderRadius:0}}};t.styles=g;function E(e){var t;var n=e.BackdropProps,i=e.children,u=e.classes,c=e.className,p=e.disableBackdropClick,v=e.disableEscapeKeyDown,g=e.fullScreen,E=e.fullWidth,y=e.maxWidth,b=e.onBackdropClick,S=e.onClose,w=e.onEnter,O=e.onEntered,M=e.onEntering,k=e.onEscapeKeyDown,T=e.onExit,I=e.onExited,C=e.onExiting,x=e.open,_=e.PaperProps,P=e.TransitionComponent,L=e.transitionDuration,N=e.TransitionProps,R=(0,s.default)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperProps","TransitionComponent","transitionDuration","TransitionProps"]);return l.default.createElement(f.default,(0,r.default)({className:(0,h.default)(u.root,c),BackdropProps:(0,a.default)({transitionDuration:L},n),disableBackdropClick:p,disableEscapeKeyDown:v,onBackdropClick:b,onEscapeKeyDown:k,onClose:S,open:x,role:"dialog"},R),l.default.createElement(P,(0,r.default)({appear:true,in:x,timeout:L,onEnter:w,onEntering:M,onEntered:O,onExit:T,onExiting:C,onExited:I},N),l.default.createElement(m.default,(0,r.default)({elevation:24,className:(0,h.default)(u.paper,(t={},(0,o.default)(t,u["paperWidth".concat(y?(0,d.capitalize)(y):"")],y),(0,o.default)(t,u.paperFullScreen,g),(0,o.default)(t,u.paperFullWidth,E),t))},_),i)))}E.propTypes={};E.defaultProps={disableBackdropClick:false,disableEscapeKeyDown:false,fullScreen:false,fullWidth:false,maxWidth:"sm",TransitionComponent:p.default,transitionDuration:{enter:v.duration.enteringScreen,exit:v.duration.leavingScreen}};var y=(0,c.default)(g,{name:"MuiDialog"})(E);t.default=y},646:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});t.getIEVersion=n;t.translate=i;t.getWindowWidth=r;t.getWindowHeight=o;function n(){if("undefined"===typeof e.window||"undefined"===typeof e.window.navigator)return;var t=e.window.navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return t?parseInt(t[1],10):void 0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return"";var n=e;t&&Object.keys(t).forEach(function(e){n=n.replace(e,t[e])});return n}function r(){return"undefined"!==typeof e.window?e.window.innerWidth:0}function o(){return"undefined"!==typeof e.window?e.window.innerHeight:0}}).call(t,n(32))},647:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=t.MIN_ZOOM_LEVEL=0;var r=t.MAX_ZOOM_LEVEL=300;var o=t.ZOOM_RATIO=1.007;var a=t.ZOOM_BUTTON_INCREMENT_SIZE=100;var s=t.WHEEL_MOVE_X_THRESHOLD=200;var l=t.WHEEL_MOVE_Y_THRESHOLD=1;var u=t.KEYS={ESC:27,LEFT_ARROW:37,RIGHT_ARROW:39};var h=t.ACTION_NONE=0;var c=t.ACTION_MOVE=1;var d=t.ACTION_SWIPE=2;var f=t.ACTION_PINCH=3;var p=t.ACTION_ROTATE=4;var v=t.SOURCE_ANY=0;var m=t.SOURCE_MOUSE=1;var g=t.SOURCE_TOUCH=2;var E=t.SOURCE_POINTER=3;var y=t.MIN_SWIPE_DISTANCE=200}},[640]);return{page:e.default}});